!function(e,i,t){"use strict";const a="form.variations_form",o=".woocommerce-product-gallery",n=".woocommerce-product-gallery__image";function r(){var e=JSON.parse(WC_VARIATION_IMAGES.i18n.slider_data),i="yes"===e.enable_slider?{delay:e.slider_delay,disableOnInteraction:!1}:"false",a="no"!==e.hide_navigation&&{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},o=new Swiper(".mySwiper",{loop:"no"!==e.slider_loop,spaceBetween:e.items_space?e.items_space:4,slidesPerView:e.items_per_page?e.items_per_page:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper2",{loop:"no"!==e.slider_loop,navigation:a,autoplay:i,thumbs:{swiper:o}}),"no"===e.hide_navigation&&(t(".swiper-button-next").hide(),t(".swiper-button-prev").hide());var n=JSON.parse(WC_VARIATION_IMAGES.i18n.lightbox_data);t("[data-fancybox='gallery']").fancybox({loop:!0,protect:!0,buttons:["zoom",n.slideShow,n.fullScreen,n.share,"close"],zoom:{enabled:!0,duration:300},thumbs:{autoStart:!0,axis:"x"}})}function s(){t(".selected-image").on("mouseover",(function(){t(this).children(".wcvi-image-zoom").css({transform:"scale("+t(this).attr("data-scale")+")",transition:"all .5s"})})).on("mouseout",(function(){t(this).children(".wcvi-image-zoom").css({transform:"scale(1)",transition:"all .5s"})})).on("mousemove",(function(e){t(this).children(".wcvi-image-zoom").css({"transform-origin":(e.pageX-t(this).offset().left)/t(this).width()*100+"% "+(e.pageY-t(this).offset().top)/t(this).height()*100+"%",transition:"transform 1s ease-in"})})).each((function(){var e=t(this).find("img").data("type");0!==t(this).find(".wcvi-image-zoom").length||e||t(this).append('<div class="wcvi-image-zoom"></div>'),t(this).children(".wcvi-image-zoom").css({"background-image":"url("+t(this).find("img").attr("src")+")"})}))}function c(){t(".selected-image").on("mouseenter mouseleave",(function(){t(this).attr("data-scale","1.5");var e=t(this).find("img").attr("src");t(this).attr("data-image",e)}))}t(a).on("blur","table.variations select",(function(){const e=t(a).data("product_id"),i=t("input.variation_id").val(),m=t(o),l=t(n),d=l.outerWidth(),u=l.outerHeight();e>0&&(t(`#product-${e}`),t.ajax({url:WC_VARIATION_IMAGES.ajaxurl,type:"POST",data:{action:"wc_variation_images_load_variation_images",product_id:e,variation_id:i,nonce:WC_VARIATION_IMAGES.nonce},beforeSend:function(){},success:function(e){if(e&&e.data&&e.data.images){const i=m.parent();m.remove(),i.prepend(e.data.images),t(n).width(d).height(u),t(".woocommerce-product-gallery__wrapper").height(u),t(o).each((function(){t(this).wc_product_gallery()}));const a=t(".main-image"),l=t("#image-link"),h=t(".thumbnail").first();a.attr("src",h.attr("src")),l.attr("href",h.attr("src")),r(),"no"===WC_VARIATION_IMAGES.i18n.hide_image_zoom&&(s(),c())}},error:function(){console.error("Failed to load variation images.")},complete:function(){}}))})),t(i).on("click",".thumbnail",(function(){var e=t("#main-image");const i=t("#image-link");var a=t(this).attr("src");e.attr("src",a),i.attr("href",a),i.data("zoom-image",a),t(".wcvi-image-zoom").css({"background-image":"url("+t(this).attr("src")+")"})})),r(),"no"===WC_VARIATION_IMAGES.i18n.hide_image_zoom&&(s(),c())}(window,document,jQuery);